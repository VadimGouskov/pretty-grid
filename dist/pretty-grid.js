!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.prettyGrid=n():t.prettyGrid=n()}(this,(function(){return(()=>{"use strict";var t={d:(n,r)=>{for(var o in r)t.o(r,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:r[o]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{Grid:()=>o,GridPoint:()=>r,and:()=>d,cols:()=>a,even:()=>e,evenCols:()=>u,evenRows:()=>c,not:()=>y,odd:()=>i,oddCols:()=>f,oddRows:()=>s,or:()=>h,rows:()=>p});var r=function(t,n){this.x=t,this.y=n},o=function(){function t(t,n,o,e){this.points=[[]];for(var i=o/(t-1),u=e/(n-1),f=0;f<t;f++){this.points[f]=[];for(var c=0;c<n;c++)this.points[f][c]=new r(f*i,c*u)}}return t.prototype.get=function(){return this.points},t.prototype.set=function(t){this.points=t},t.prototype.getPoint=function(t,n){return this.points[t][n]},t.prototype.getFlat=function(){return this.points.reduce((function(t,n){return t.concat(n)}),[])},t.prototype.draw=function(t,n){return this.points.forEach((function(r,o){return r.forEach((function(r,e){n&&!n(r,o,e)||t(r)}))})),this},t.prototype.translate=function(t,n,r){return this.points.forEach((function(o,e){return o.forEach((function(o,i){r&&!r(o,e,i)||(o.x+=t,o.y+=n)}))})),this},t.prototype.copy=function(){var n=new t(this.points.length,this.points[0].length,0,0),r=JSON.parse(JSON.stringify(this.points));return n.set(r),n},t}(),e=function(){return function(t,n,r){return n%2==0&&r%2==0}},i=function(){return function(t,n,r){return n%2!=0&&r%2!=0}},u=function(){return function(t,n,r){return n%2==0}},f=function(){return function(t,n,r){return n%2!=0}},c=function(){return function(t,n,r){return r%2==0}},s=function(){return function(t,n,r){return r%2!=0}},p=function(t,n){return function(r,o,e){return e>=t&&e<=n}},a=function(t,n){return function(r,o,e){return o>=t&&o<=n}},d=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n,r,o){for(var e=0,i=t;e<i.length;e++)if(!(0,i[e])(n,r,o))return!1;return!0}},h=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n,r,o){for(var e=0,i=t;e<i.length;e++)if((0,i[e])(n,r,o))return!0;return!1}},y=function(t){return function(n,r,o){return!t(n,r,o)}};return n})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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V0FBaUIsZ0JBQUNaLEVBQU9aLEVBQUtDLEdBQVEsT0FBQUQsRUFBTSxHQUFNLEdBQUtDLEVBQU0sR0FBTSxJQUUzRndCLEVBQTZCLFdBQWlCLGdCQUFDYixFQUFPWixFQUFLQyxHQUFRLE9BQUFELEVBQU0sR0FBTSxJQUUvRTBCLEVBQTRCLFdBQWlCLGdCQUFDZCxFQUFPWixFQUFLQyxHQUFRLE9BQUFELEVBQU0sR0FBTSxJQUU5RTJCLEVBQTZCLFdBQWlCLGdCQUFDZixFQUFPWixFQUFLQyxHQUFRLE9BQUFBLEVBQU0sR0FBTSxJQUUvRTJCLEVBQTRCLFdBQWlCLGdCQUFDaEIsRUFBT1osRUFBS0MsR0FBUSxPQUFBQSxFQUFNLEdBQU0sSUFFOUVaLEVBQ1QsU0FBQ3dDLEVBQWVDLEdBQ2hCLGdCQUFDbEIsRUFBT1osRUFBS0MsR0FDVCxPQUFPQSxHQUFPNEIsR0FBUzVCLEdBQU82QixJQUd6QjFDLEVBQ1QsU0FBQ3lDLEVBQWVDLEdBQ2hCLGdCQUFDbEIsRUFBT1osRUFBS0MsR0FDVCxPQUFPRCxHQUFPNkIsR0FBUzdCLEdBQU84QixJQ3pCekJDLEVBQWdCLFcsSUFBQyxzREFDMUIsT0FBTyxTQUFDbkIsRUFBT1osRUFBS0MsR0FDaEIsSUFBc0IsVUFBQStCLEVBQUEsZUFDbEIsS0FBS3ZCLEVBRFMsTUFDQ0csRUFBT1osRUFBS0MsR0FBTSxPQUFPLEVBRTVDLE9BQU8sSUFJRmdDLEVBQWUsVyxJQUFDLHNEQUN6QixPQUFPLFNBQUNyQixFQUFPWixFQUFLQyxHQUNoQixJQUFzQixVQUFBK0IsRUFBQSxlQUNsQixJQUFJdkIsRUFEVSxNQUNBRyxFQUFPWixFQUFLQyxHQUFNLE9BQU8sRUFFM0MsT0FBTyxJQUlGaUMsRUFBZ0IsU0FBQ3pCLEdBQzFCLE9BQU8sU0FBQ0csRUFBT1osRUFBS0MsR0FBUSxPQUFDUSxFQUFVRyxFQUFPWixFQUFLQyxLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJldHR5R3JpZC93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vcHJldHR5R3JpZC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wcmV0dHlHcmlkL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9wcmV0dHlHcmlkL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vcHJldHR5R3JpZC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3ByZXR0eUdyaWQvLi9zcmMvZ3JpZC50cyIsIndlYnBhY2s6Ly9wcmV0dHlHcmlkLy4vc3JjL2NvbmRpdGlvbnMudHMiLCJ3ZWJwYWNrOi8vcHJldHR5R3JpZC8uL3NyYy9vcGVyYXRvcnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wicHJldHR5R3JpZFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJwcmV0dHlHcmlkXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBDb25kaXRpb24gfSBmcm9tICcuL2NvbmRpdGlvbnMnO1xuXG5leHBvcnQgdHlwZSBHcmlkRnVuY3Rpb24gPSAocG9pbnQ6IEdyaWRQb2ludCwgY29sPzogbnVtYmVyLCByb3c/OiBudW1iZXIpID0+IHZvaWQ7XG5cbi8qKlxuICogUmVwcmVzZW50IGEgc2luZ2xlIHBvaW50IG9uIHRoZSBncmlkLlxuICogQGNsYXNzXG4gKiBAbmFtZSBHcmlkUG9pbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IHRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XG4gKiBAcGFyYW0ge251bWJlcn0geSB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHggdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB5IHRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XG4gKi9cbmV4cG9ydCBjbGFzcyBHcmlkUG9pbnQge1xuICAgIHg6IG51bWJlcjtcbiAgICB5OiBudW1iZXI7XG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG1haW4gR3JpZCBjbGFzcyBjb250YWluaW5nIGFsbCBhIHR3byBkaW1lbnNpb25hbCBhcnJheSBvZiBHcmlkUG9pbnRzIGFuZCBtZXRob2RzIHRvIG1hbmlwdWxhdGUgdGhlIEdyaWRQb2ludHMgb24gZ3JpZC5cbiAqIEBjbGFzc1xuICogQG5hbWUgR3JpZFxuICogQHBhcmFtIHtudW1iZXJ9IGNvbHMgdGhlIGFtb3VudCBvZiBjb2x1bW5zIHRoZSBncmlkIG5lZWRzIHRvIGNvbnRhaW5cbiAqIEBwYXJhbSB7bnVtYmVyfSByb3dzIHRoZSBhbW91bnQgb2Ygcm93cyB0aGUgZ3JpZCBuZWVkcyB0byBjb250YWluXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGggdGhlIHdpZHRoIG9mIHRoZSBncmlkXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IHRoZSBoZWlnaHQgb2YgdGhlIGdyaWRcbiAqL1xuZXhwb3J0IGNsYXNzIEdyaWQge1xuICAgIHByaXZhdGUgcG9pbnRzOiBHcmlkUG9pbnRbXVtdID0gW1tdXTtcblxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlcyBhIG5ldyAyIERpbWVuc2lvbmFsIEdyaWQuXG4gICAgICogVGhlIGhvcml6b250YWwgZGlzdGFuY2UgYmV0d2VlbiBlYWNoIGNvbHVtbjogd2lkdGggLyAoY29scyAtIDEpXG4gICAgICogVGhlIHZlcnRpY2FsIGRpc3RhbmNlIGJldHdlZW4gZWFjaCByb3cgOiBoZWlnaHQgLyAocm93cyAtIDEpXG4gXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29sczogbnVtYmVyLCByb3dzOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHN0ZXBDb2xzID0gd2lkdGggLyAoY29scyAtIDEpO1xuICAgICAgICBjb25zdCBzdGVwUm93cyA9IGhlaWdodCAvIChyb3dzIC0gMSk7XG5cbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBncmlkXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sczsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnBvaW50c1tpXSA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByb3dzOyBqKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50c1tpXVtqXSA9IG5ldyBHcmlkUG9pbnQoaSAqIHN0ZXBDb2xzLCBqICogc3RlcFJvd3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCB0aGUgY3VycmVudCBwb2ludHMgb24gdGhlIGdyaWRcbiAgICAgKiB3YXJuaW5nOiBnZXRzIHRoZSBwb2ludHMgYXJyYXkgYnkgcmVmZXJlbmNlLiBDaGFuZ2VzIHRvIGluZGl2aWR1YWwgcG9pbnRzIHdpbGwgYmUgcmVmbGVjdGVkIGluIHRoZSBvcmlnaW5hbCBncmlkIG9iamVjdC5cbiAgICAgKiBUbyBnZXQgYSBkZWVwIGNvcHkgdXNlIGdyaWQuY29weSgpLiBlZy4gZ3JpZC5jb3B5LmdldCgpXG4gICAgICogXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEByZXR1cm5zIHtHcmlkUG9pbnRbXVtdfVxuICAgICAqXG5cbiAgICAgKi9cbiAgICBnZXQoKTogR3JpZFBvaW50W11bXSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50cztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlcyBhbGwgdGhlIGN1cnJlbnQgcG9pbnRzIG9uIHRoZSBncmlkXG4gICAgICogPGI+IHdhcm5pbmc6IHNldHMgYSByZWZlcmVuY2UgdG8gdGhlIHByb3ZpZGVkIHBvaW50cy4gQ2hhbmdlcyBpbiBtYWRlIGJ5IHRoaXMgZ3JpZCBvYmplY3QgdG8gdGhlIHBvaW50cyB3aWxsIGJlIHJlZmxlY3RlZCBpbiB0aGUgcHJvdmlkZWQgcG9pbnRzIGFycmF5LiA8L2I+XG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIHNldFxuICAgICAqXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG4gICAgc2V0KHBvaW50czogR3JpZFBvaW50W11bXSk6IHZvaWQge1xuICAgICAgICAvLyBUT0RPIHNldCBhIGRlZXAgY29weSBtYWtlcyBtb3JlIHNlbmNlPyBvciBtYWtlIGl0IG9wdGlvbmFsIGFuZCBwcm92aWRlIGEgZGVlcCBjb3B5IGhlbHBlciBmdW5jdGlvblxuICAgICAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcG9pbnQgZnJvbSBmcm9tIGluZGVjZXMgW2NvbCwgcm93XVxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAbmFtZSBnZXRQb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2wgLSB0aGUgY29sIGluZGV4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdyAtIHRoZSByb3cgaW5kZXhcbiAgICAgKiBAcmV0dXJucyB7R3JpZFBvaW50fVxuICAgICAqL1xuXG4gICAgZ2V0UG9pbnQoY29sOiBudW1iZXIsIHJvdzogbnVtYmVyKTogR3JpZFBvaW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9pbnRzW2NvbF1bcm93XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIGEgb25lIGRpbWVuc2lvbmFsIGFycmF5IG9mIEdyaWRQb2ludHMgb2YgdGhlIGdyaWQuIE9uZSBjb2x1bW4gcHVzaGVkIGFmdGVyIHRoZSBvdGhlci5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgZ2V0RmxhdFxuICAgICAqIEB0eXBlIHtHcmlkUG9pbnRbXX1cbiAgICAgKi9cbiAgICBnZXRGbGF0KCk6IEdyaWRQb2ludFtdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9pbnRzLnJlZHVjZSgoYWNjLCB2YWwpID0+IGFjYy5jb25jYXQodmFsKSwgW10pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvb3BzIG92ZXIgdGhlIHBvaW50cyBpbiB0aGUgZ3JpZCwgcGFzc2luZyBlYWNoIHBvaW50IHRvIHRoZSBwcm92aWRlZCBmdW5jIHBhcmFtZXRlclxuICAgICAqIFByb3ZpZGUgYSBkcmF3aW5nIGZ1bmN0aW9uXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIGRyYXdcbiAgICAgKiBAcGFyYW0ge0dyaWRGdW5jdGlvbn0gZnVuYyAtIGEgZnVuY3Rpb24gdGhhdCBoYW5kbGVzIGRyYXdpbmcgb2YgZWFjaCBpbmRpdmlkdWFsIHBvaW50XG4gICAgICogQHBhcmFtIHtDb25kaXRpb259IGNvbmRpdGlvbiAtIGFuIG9wdGlvbmFsIGNvbmRpdGlvbiBmb3Igd2hpY2ggcG9pbnRzIHRvIGRyYXdcbiAgICAgKiBAcmV0dXJucyB7IEdyaWQgfSByZXR1cm5zIEB0aGlzIEdyaWQgT2JqZWN0LiBVc2VkIGZvciBjaGFpbmluZyBHcmlkIG1ldGhvZHNcbiAgICAgKi9cbiAgICBkcmF3KGZ1bmM6IEdyaWRGdW5jdGlvbiwgY29uZGl0aW9uPzogQ29uZGl0aW9uKTogR3JpZCB7XG4gICAgICAgIHRoaXMucG9pbnRzLmZvckVhY2goKGNvbCwgY29sSW5kZXgpID0+XG4gICAgICAgICAgICBjb2wuZm9yRWFjaCgocG9pbnQsIHJvd0luZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEhY29uZGl0aW9uICYmICFjb25kaXRpb24ocG9pbnQsIGNvbEluZGV4LCByb3dJbmRleCkpIHJldHVybjtcbiAgICAgICAgICAgICAgICBmdW5jKHBvaW50KTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIHRoZSBlbnRpcmUgZ3JpZCBieSB4IGVuIHkgY29vcmRpbmF0ZXNcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQG5hbWUgdHJhbnNsYXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSB0aGUgeCBjb29yZGluYXRlcyB0byB0cmFuc2xhdGUgdGhlIHBvaW50cyB3aXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0aGUgeSBjb29yZGluYXRlcyB0byB0cmFuc2xhdGUgdGhlIHBvaW50cyB3aXRoXG4gICAgICogQHBhcmFtIHtDb25kaXRpb259IFtjb25kaXRpb25dIC0gYW4gb3B0aW9uYWwgY29uZGl0aW9uIGZvciB3aGljaCBwb2ludHMgdG8gdHJhbnNsYXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7IEdyaWQgfSByZXR1cm5zIEB0aGlzIEdyaWQgT2JqZWN0LiBVc2VkIGZvciBjaGFpbmluZyBHcmlkIG1ldGhvZHNcbiAgICAgKi9cbiAgICB0cmFuc2xhdGUoeDogbnVtYmVyLCB5OiBudW1iZXIsIGNvbmRpdGlvbj86IENvbmRpdGlvbik6IEdyaWQge1xuICAgICAgICB0aGlzLnBvaW50cy5mb3JFYWNoKChjb2wsIGNvbEluZGV4KSA9PlxuICAgICAgICAgICAgY29sLmZvckVhY2goKHBvaW50LCByb3dJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghIWNvbmRpdGlvbiAmJiAhY29uZGl0aW9uKHBvaW50LCBjb2xJbmRleCwgcm93SW5kZXgpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgcG9pbnQueCArPSB4O1xuICAgICAgICAgICAgICAgIHBvaW50LnkgKz0geTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZGVlcCBjb3B5IG9mIHRoZSBjdXJyZW50IGdyaWQgb2JqZWN0XG4gICAgICogQG1ldGhvZFxuICAgICAqIEBuYW1lIGNvcHlcbiAgICAgKiBAcmV0dXJucyB7IEdyaWQgfSBhIG5ldyBpbnN0YW5jZSBvZiBHcmlkIG9mIHdpdGggdGhlIHNhbWUgY29vcmRpbmF0ZSB2YWx1ZXMgYXMgQHRoaXMgR3JpZFxuICAgICAqL1xuICAgIGNvcHkoKTogR3JpZCB7XG4gICAgICAgIGNvbnN0IGNvbHMgPSB0aGlzLnBvaW50cy5sZW5ndGg7XG4gICAgICAgIC8vIFRPRE8gdGFrZSBpbnRvIGFjY291bnQgcG9zaWJpbGl0eSBvZiBtb2RpZmllZCByb3dcbiAgICAgICAgY29uc3Qgcm93cyA9IHRoaXMucG9pbnRzWzBdLmxlbmd0aDtcblxuICAgICAgICAvLyBXaWR0aCBhbmQgaGVpZ2h0IG9mIGdyaWQgZG8gbm90IG1hdHRlciwgdGhlc2Ugd2lsbCBnZXQgc2V0XG4gICAgICAgIGNvbnN0IGNvcGllZEdyaWQgPSBuZXcgR3JpZChjb2xzLCByb3dzLCAwLCAwKTtcbiAgICAgICAgY29uc3QgcG9pbnRzRGVlcENvcHk6IEdyaWRQb2ludFtdW10gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMucG9pbnRzKSk7XG4gICAgICAgIGNvcGllZEdyaWQuc2V0KHBvaW50c0RlZXBDb3B5KTtcblxuICAgICAgICByZXR1cm4gY29waWVkR3JpZDtcbiAgICB9XG5cbiAgICAvKiBcbiAgICBnZXRTZWN0aW9uKHN0YXJ0Q29sOiBudW1iZXIsIGVuZENvbDogbnVtYmVyLCBzdGFydFJvdzogbnVtYmVyLCBlbmRSb3c6IG51bWJlcik6IEdyaWQge1xuICAgICAgICBjb25zdCBzbGljZSA9IHRoaXMucG9pbnRzLnNsaWNlKHN0YXJ0Q29sLCBlbmRDb2wgKyAxKS5tYXAoKGkpID0+IGkuc2xpY2Uoc3RhcnRSb3csIGVuZFJvdyArIDEpKTtcbiAgICAgICAgY29uc3QgZ3JpZEZyb21TbGljZSA9IG5ldyBHcmlkKHNsaWNlWzBdLmxlbmd0aCwgc2xpY2UubGVuZ3RoLCAwLCAwKTtcbiAgICAgICAgZ3JpZEZyb21TbGljZS5zZXQoc2xpY2UpO1xuICAgICAgICByZXR1cm4gZ3JpZEZyb21TbGljZTtcbiAgICB9XG4gICAgKi9cbn1cbiIsImltcG9ydCB7IEdyaWRQb2ludCB9IGZyb20gJy4vZ3JpZCc7XG5cbmV4cG9ydCB0eXBlIENvbmRpdGlvbiA9IChwb2ludDogR3JpZFBvaW50LCBjb2w/OiBudW1iZXIsIHJvdz86IG51bWJlcikgPT4gYm9vbGVhbjtcblxuZXhwb3J0IHR5cGUgQ29uZGl0aW9uQ3JlYXRvciA9ICguLi5hcmdzOiBhbnlbXSkgPT4gQ29uZGl0aW9uO1xuXG5leHBvcnQgY29uc3QgYWxsOiBDb25kaXRpb25DcmVhdG9yID0gKCk6IENvbmRpdGlvbiA9PiAocG9pbnQsIGNvbCwgcm93KSA9PiB0cnVlO1xuXG5leHBvcnQgY29uc3QgZXZlbjogQ29uZGl0aW9uQ3JlYXRvciA9ICgpOiBDb25kaXRpb24gPT4gKHBvaW50LCBjb2wsIHJvdykgPT4gY29sICUgMiA9PT0gMCAmJiByb3cgJSAyID09PSAwO1xuXG5leHBvcnQgY29uc3Qgb2RkOiBDb25kaXRpb25DcmVhdG9yID0gKCk6IENvbmRpdGlvbiA9PiAocG9pbnQsIGNvbCwgcm93KSA9PiBjb2wgJSAyICE9PSAwICYmIHJvdyAlIDIgIT09IDA7XG5cbmV4cG9ydCBjb25zdCBldmVuQ29sczogQ29uZGl0aW9uQ3JlYXRvciA9ICgpOiBDb25kaXRpb24gPT4gKHBvaW50LCBjb2wsIHJvdykgPT4gY29sICUgMiA9PT0gMDtcblxuZXhwb3J0IGNvbnN0IG9kZENvbHM6IENvbmRpdGlvbkNyZWF0b3IgPSAoKTogQ29uZGl0aW9uID0+IChwb2ludCwgY29sLCByb3cpID0+IGNvbCAlIDIgIT09IDA7XG5cbmV4cG9ydCBjb25zdCBldmVuUm93czogQ29uZGl0aW9uQ3JlYXRvciA9ICgpOiBDb25kaXRpb24gPT4gKHBvaW50LCBjb2wsIHJvdykgPT4gcm93ICUgMiA9PT0gMDtcblxuZXhwb3J0IGNvbnN0IG9kZFJvd3M6IENvbmRpdGlvbkNyZWF0b3IgPSAoKTogQ29uZGl0aW9uID0+IChwb2ludCwgY29sLCByb3cpID0+IHJvdyAlIDIgIT09IDA7XG5cbmV4cG9ydCBjb25zdCByb3dzID1cbiAgICAoc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpOiBDb25kaXRpb24gPT5cbiAgICAocG9pbnQsIGNvbCwgcm93KSA9PiB7XG4gICAgICAgIHJldHVybiByb3cgPj0gc3RhcnQgJiYgcm93IDw9IGVuZDtcbiAgICB9O1xuXG5leHBvcnQgY29uc3QgY29scyA9XG4gICAgKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKTogQ29uZGl0aW9uID0+XG4gICAgKHBvaW50LCBjb2wsIHJvdykgPT4ge1xuICAgICAgICByZXR1cm4gY29sID49IHN0YXJ0ICYmIGNvbCA8PSBlbmQ7XG4gICAgfTtcbiIsImltcG9ydCB7IENvbmRpdGlvbiB9IGZyb20gJy4vY29uZGl0aW9ucyc7XG5cbmV4cG9ydCB0eXBlIE9wZXJhdG9yID0gKC4uLmNvbmRpdGlvbnM6IENvbmRpdGlvbltdKSA9PiBDb25kaXRpb247XG5cbmV4cG9ydCBjb25zdCBhbmQ6IE9wZXJhdG9yID0gKC4uLmNvbmRpdGlvbnM6IENvbmRpdGlvbltdKSA9PiB7XG4gICAgcmV0dXJuIChwb2ludCwgY29sLCByb3cpID0+IHtcbiAgICAgICAgZm9yIChsZXQgY29uZGl0aW9uIG9mIGNvbmRpdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICghY29uZGl0aW9uKHBvaW50LCBjb2wsIHJvdykpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IG9yOiBPcGVyYXRvciA9ICguLi5jb25kaXRpb25zOiBDb25kaXRpb25bXSkgPT4ge1xuICAgIHJldHVybiAocG9pbnQsIGNvbCwgcm93KSA9PiB7XG4gICAgICAgIGZvciAobGV0IGNvbmRpdGlvbiBvZiBjb25kaXRpb25zKSB7XG4gICAgICAgICAgICBpZiAoY29uZGl0aW9uKHBvaW50LCBjb2wsIHJvdykpIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IG5vdDogT3BlcmF0b3IgPSAoY29uZGl0aW9uOiBDb25kaXRpb24pID0+IHtcbiAgICByZXR1cm4gKHBvaW50LCBjb2wsIHJvdykgPT4gIWNvbmRpdGlvbihwb2ludCwgY29sLCByb3cpO1xufTtcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ4IiwieSIsImNvbHMiLCJyb3dzIiwid2lkdGgiLCJoZWlnaHQiLCJwb2ludHMiLCJzdGVwQ29scyIsInN0ZXBSb3dzIiwiaSIsImoiLCJHcmlkUG9pbnQiLCJzZXQiLCJnZXRQb2ludCIsImNvbCIsInJvdyIsImdldEZsYXQiLCJyZWR1Y2UiLCJhY2MiLCJ2YWwiLCJjb25jYXQiLCJkcmF3IiwiZnVuYyIsImNvbmRpdGlvbiIsImZvckVhY2giLCJjb2xJbmRleCIsInBvaW50Iiwicm93SW5kZXgiLCJ0cmFuc2xhdGUiLCJjb3B5IiwiY29waWVkR3JpZCIsIkdyaWQiLCJsZW5ndGgiLCJwb2ludHNEZWVwQ29weSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImV2ZW4iLCJvZGQiLCJldmVuQ29scyIsIm9kZENvbHMiLCJldmVuUm93cyIsIm9kZFJvd3MiLCJzdGFydCIsImVuZCIsImFuZCIsImNvbmRpdGlvbnMiLCJvciIsIm5vdCJdLCJzb3VyY2VSb290IjoiIn0=